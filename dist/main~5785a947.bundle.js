(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{0:function(e,t,r){"use strict";t.a={X_AUTH_TOKEN:"12345",BASE_URL:"https://dicoding-restaurant-api.el.r.appspot.com",BASE_IMAGE_URL:"https://restaurant-api.dicoding.dev/images/medium/",DEFAULT_LANGUAGE:"en-us",CACHE_NAME:"foodhunter-v1",DATABASE_NAME:"favorite-restaurant-database",DATABASE_VERSION:1,OBJECT_STORE_NAME:"restaurant"}},12:function(e,t,r){"use strict";var n={init:function(e){var t=this,r=e.button,n=e.drawer,o=r.hamburger,e=r.close,a=r.navigationItems,u=document.querySelector("body");o.addEventListener("click",function(e){t._toggleAccesibility(a),t._toggleDrawer({event:e,drawer:n,body:u})}),e.addEventListener("click",function(e){t._removeAccesibility(a),t._closeDrawer({event:e,drawer:n,body:u})}),a.forEach(function(e){e.addEventListener("click",function(e){t._closeDrawer({event:e,drawer:n,body:u})})})},_toggleDrawer:function(e){var t=e.event,r=e.drawer,e=e.body;t.stopPropagation(),r.classList.toggle("open"),e.classList.toggle("remove-content-scrolling")},_closeDrawer:function(e){var t=e.event,r=e.drawer,e=e.body;t.stopPropagation(),r.classList.remove("open"),e.classList.remove("remove-content-scrolling")},_toggleAccesibility:function(e){e.forEach(function(e){e.setAttribute("tabindex",0)})},_removeAccesibility:function(e){e.forEach(function(e){e.setAttribute("tabindex",-1)})}};t.a=n},15:function(e,t,r){"use strict";function c(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function u(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function o(e){c(n,t,r,o,a,"next",e)}function a(e){c(n,t,r,o,a,"throw",e)}o(void 0)})}}t.a={init:function(o){var a=this;return u(regeneratorRuntime.mark(function e(){var t,r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=o.favoriteButtonContainer,r=o.favoriteRestaurant,n=o.restaurant,a._favoriteButtonContainer=t,a._restaurant=n,a._favoriteRestaurant=r,e.next=6,a._render();case 6:case"end":return e.stop()}},e)}))()},_render:function(){var r=this;return u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return t=r._restaurant.id,e.next=3,r._isRestaurantExist(t);case 3:if(!e.sent){e.next=7;break}r._renderFavorited(),e.next=8;break;case 7:r._renderFavorite();case 8:case"end":return e.stop()}},e)}))()},_isRestaurantExist:function(r){var n=this;return u(regeneratorRuntime.mark(function e(){var t;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n._favoriteRestaurant.getRestaurant(r);case 2:return t=e.sent,e.abrupt("return",!!t);case 4:case"end":return e.stop()}},e)}))()},_renderFavorite:function(){var t=this;this._favoriteButtonContainer.getRestaurant={isFavorite:!0},document.querySelector("#likeButton").addEventListener("click",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._favoriteRestaurant.putRestaurant(t._restaurant);case 2:t._render();case 3:case"end":return e.stop()}},e)})))},_renderFavorited:function(){var t=this;this._favoriteButtonContainer.getRestaurant={isFavorite:!1},document.querySelector("#likeButton").addEventListener("click",u(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t._favoriteRestaurant.deleteRestaurant(t._restaurant.id);case 2:t._render();case 3:case"end":return e.stop()}},e)})))}}},2:function(e,t,r){"use strict";var i=r(0),c={ALL_RESTAURANTS:"".concat(i.a.BASE_URL,"/list"),DETAIL:function(e){return"".concat(i.a.BASE_URL,"/detail/").concat(e)},POST_REVIEW:"".concat(i.a.BASE_URL,"/review")};function o(e){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(r){var n=s();return function(){var e,t=l(r);return e=n?(e=l(this).constructor,Reflect.construct(t,arguments,e)):t.apply(this,arguments),t=this,!(e=e)||"object"!==o(e)&&"function"!=typeof e?function(e){if(void 0!==e)return e;throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}(t):e}}function u(e){var r="function"==typeof Map?new Map:void 0;return function(e){if(null===e||-1===Function.toString.call(e).indexOf("[native code]"))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==r){if(r.has(e))return r.get(e);r.set(e,t)}function t(){return n(e,arguments,l(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),f(t,e)}(e)}function n(e,t,r){return(n=s()?Reflect.construct:function(e,t,r){var n=[null];n.push.apply(n,t);n=new(Function.bind.apply(e,n));return r&&f(n,r.prototype),n}).apply(null,arguments)}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(e){return!1}}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=function(){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}(n,u(Error));var r=a(n);function n(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,n),(t=r.call(this,e)).name="ErrorApi",t.message=e,t}return n}();function v(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function d(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function o(e){v(n,t,r,o,a,"next",e)}function a(e){v(n,t,r,o,a,"throw",e)}o(void 0)})}}function m(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}r=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,r,n,o,a,u;return t=e,r=null,n=[{key:"allRestaurants",value:(u=d(regeneratorRuntime.mark(function e(){var t,r;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c.ALL_RESTAURANTS);case 3:return t=e.sent,e.next=6,t.json();case 6:if((r=e.sent).error)throw new p(r);e.next=9;break;case 9:return e.abrupt("return",[r,null]);case 12:if(e.prev=12,e.t0=e.catch(0),e.t0 instanceof p)return e.abrupt("return",[null,e.t0.message]);e.next=16;break;case 16:return e.abrupt("return",[null,{message:e.t0.toString()}]);case 17:case"end":return e.stop()}},e,null,[[0,12]])})),function(){return u.apply(this,arguments)})},{key:"detailRestaurant",value:(a=d(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(c.DETAIL(t));case 3:return r=e.sent,e.next=6,r.json();case 6:if((n=e.sent).error)throw new p(n);e.next=9;break;case 9:return e.abrupt("return",[n,null]);case 12:if(e.prev=12,e.t0=e.catch(0),e.t0 instanceof p)return e.abrupt("return",[null,e.t0.message]);e.next=16;break;case 16:return e.abrupt("return",[null,{message:e.t0.toString()}]);case 17:case"end":return e.stop()}},e,null,[[0,12]])})),function(e){return a.apply(this,arguments)})},{key:"addCustomerReview",value:(o=d(regeneratorRuntime.mark(function e(t){var r,n;return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,r={method:"POST",headers:{"Content-Type":"application/json","X-Auth-Token":i.a.X_AUTH_TOKEN},body:JSON.stringify(t)},e.next=4,fetch(c.POST_REVIEW,r);case 4:return r=e.sent,e.next=7,r.json();case 7:if((n=e.sent).error)throw new p(n);e.next=10;break;case 10:return e.abrupt("return",[n,null]);case 13:if(e.prev=13,e.t0=e.catch(0),e.t0 instanceof p)return e.abrupt("return",[null,e.t0.message]);e.next=17;break;case 17:return e.abrupt("return",[null,{message:e.t0.toString()}]);case 18:case"end":return e.stop()}},e,null,[[0,13]])})),function(e){return o.apply(this,arguments)})}],r&&m(t.prototype,r),n&&m(t,n),e}(),t.a=r},3:function(e,t,r){"use strict";t.a={parseActiveUrlWithCombiner:function(){var e=window.location.hash.slice(1).toLowerCase(),e=this._urlSplitter(e);return this._urlCombiner(e)},parseActiveUrlWithoutCombiner:function(){var e=window.location.hash.slice(1).toLowerCase();return this._urlSplitter(e)},_urlSplitter:function(e){e=e.split("/");return{resource:e[1]||null,id:e[2]||null,verb:e[3]||null}},_urlCombiner:function(e){return(e.resource?"/".concat(e.resource):"/")+(e.id?"/:id":"")+(e.verb?"/".concat(e.verb):"")}}},32:function(e,t,r){"use strict";r.r(t);r(19),r(8),r(20),r(21);var t=r(10),n=r.n(t);function c(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}var o=function(){var i,e=(i=regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("serviceWorker"in navigator)return e.next=3,n.a.register();e.next=4;break;case 3:return e.abrupt("return");case 4:case"end":return e.stop()}},e)}),function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function o(e){c(n,t,r,o,a,"next",e)}function a(e){c(n,t,r,o,a,"throw",e)}o(void 0)})});return function(){return e.apply(this,arguments)}}(),t=r(11),r=(r(31),{button:{hamburger:document.querySelector("#hamburgerMenu"),close:document.querySelector("#closeMenu"),navigationItems:document.querySelectorAll("#navigationItem a")},drawer:document.querySelector("#navigationDrawer"),content:document.querySelector("#mainContent"),backdrop:document.querySelector("back-drop")}),a=new t.a(r);window.addEventListener("hashchange",function(){a.renderPage()}),window.addEventListener("load",function(){a.renderPage(),o()})},4:function(e,t,r){"use strict";var n=r(18),o=r(0);function c(e,t,r,n,o,a,u){try{var i=e[a](u),c=i.value}catch(e){return void r(e)}i.done?t(c):Promise.resolve(c).then(n,o)}function a(i){return function(){var e=this,u=arguments;return new Promise(function(t,r){var n=i.apply(e,u);function o(e){c(n,t,r,o,a,"next",e)}function a(e){c(n,t,r,o,a,"throw",e)}o(void 0)})}}var u=o.a.DATABASE_NAME,r=o.a.DATABASE_VERSION,i=o.a.OBJECT_STORE_NAME,s=Object(n.a)(u,r,{upgrade:function(e){e.createObjectStore(i,{keyPath:"id"})}});t.a={getRestaurant:function(t){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s;case 4:return e.abrupt("return",e.sent.get(i,t));case 5:case"end":return e.stop()}},e)}))()},getAllRestaurant:function(){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",e.sent.getAll(i));case 3:case"end":return e.stop()}},e)}))()},putRestaurant:function(t){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t.hasOwnProperty("id")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,s;case 4:return e.abrupt("return",e.sent.put(i,t));case 5:case"end":return e.stop()}},e)}))()},deleteRestaurant:function(t){return a(regeneratorRuntime.mark(function e(){return regeneratorRuntime.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,s;case 2:return e.abrupt("return",e.sent.delete(i,t));case 3:case"end":return e.stop()}},e)}))()}}},9:function(e,t,r){"use strict";var n=r(13),o=r(14),a=r(16),r=r(17),r={"/":a.a,"/favorite":n.a,"/detail/:id":o.a,"/error":r.a};t.a=r}}]);